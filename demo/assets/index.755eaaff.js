import{d as w,q as L,r as h,c as C,a as l,w as o,F as D,f as v,o as F,u as i,a5 as n,p as d,t as c,e as I,n as b,s as m}from"./index.71cc4ec9.js";const R={class:"exp-flatList-item"},V={class:"exp-flatList-item"},N={class:"exp-flatList-item"},P={class:"exp-flatList-item"},M={class:"exp-flatList-item"},q={key:0,class:"exp-flatList-item-separator"},H={class:"exp-flatList-item"},W={name:"ExpFlatList"},J=w({...W,setup(j){const a=L([]),x=L([]);for(let e=0;e<100;e++)a.push({id:e+1,text:`\u7B2C ${e+1} \u4E2A\u5217\u8868`});for(let e=0;e<1e5;e++)x.push({id:e+1,text:`\u7B2C ${e+1} \u4E2A\u5217\u8868`});function k(e){return 50+e%10*2}const A=(e,s)=>{setTimeout(()=>{m({title:"\u5237\u65B0\u6210\u529F",type:"success"}),s()},2e3)},E=h(!0),r=L([]);function g(){for(let e=r.length,s=r.length+10;e<s;e++)r.push({id:e+1,text:`\u7B2C ${e+1} \u4E2A\u5217\u8868`})}g();const T=e=>{console.log("end-reached",e);const s=100;r.length>=s||setTimeout(()=>{g(),m({title:"\u52A0\u8F7D\u6210\u529F",type:"success"}),r.length>=s&&(E.value=!1)},500)},B=({items:e})=>{console.log("visible-items-change",e),e.forEach(({index:s,visible:u})=>{s===49&&m(`index: ${s}, visable: ${u}`)})},$=e=>{console.log("end-reached",e),m("\u5230\u5E95\u4E86")},p=h();function _(e,s=0){var u;(u=p.value)==null||u.scrollToIndex({index:e,viewPosition:s})}function y(e){var s;(s=p.value)==null||s.scrollTo({offset:e})}function z(e){var s;(s=p.value)==null||s.scrollToEnd(e)}return(e,s)=>{const u=v("ta-group"),S=v("ta-empty"),f=v("ta-cell");return F(),C(D,null,[l(u,{title:"\u57FA\u7840\u7528\u6CD5"},{default:o(()=>[l(i(n),{class:"exp-flatList-box",ids:i(a).map(t=>t.id)},{default:o(({index:t})=>[d("div",R,c(i(a)[t].text),1)]),_:1},8,["ids"])]),_:1}),l(u,{title:"\u6C34\u5E73\u5217\u8868"},{default:o(()=>[l(i(n),{class:"exp-flatList-box",ids:i(a).map(t=>t.id),itemSize:140,initialHorizontal:""},{default:o(({index:t})=>[d("div",V,c(i(a)[t].text),1)]),_:1},8,["ids"])]),_:1}),l(u,{title:"\u5F00\u542F\u4E0B\u62C9\u5237\u65B0"},{default:o(()=>[l(i(n),{class:"exp-flatList-box",ids:i(a).map(t=>t.id),itemSize:50,enablePullRefresh:!0,onRefreshing:A},{default:o(({index:t})=>[d("div",N,c(i(a)[t].text),1)]),_:1},8,["ids"])]),_:1}),l(u,{title:"\u5C55\u793A\u5E95\u90E8\u52A0\u8F7D\u66F4\u591A\u63D0\u793A"},{default:o(()=>[l(i(n),{class:"exp-flatList-box",ids:i(r).map(t=>t.id),lowerLoading:E.value,onEndReached:T},{default:o(({index:t})=>[d("div",P,c(i(a)[t].text),1)]),_:1},8,["ids","lowerLoading"])]),_:1}),l(u,{title:"\u5206\u5272\u7EBF\uFF08#separator\uFF09"},{default:o(()=>[l(i(n),{class:"exp-flatList-box",ids:i(a).map(t=>t.id)},{default:o(({index:t})=>[d("div",M,c(i(a)[t].text),1)]),separator:o(({index:t})=>[t<i(a).length-1?(F(),C("div",q)):I("",!0)]),_:1},8,["ids"])]),_:1}),l(u,{title:"\u7011\u5E03\u6D41"},{default:o(()=>[l(i(n),{class:"exp-flatList-box",ids:i(a).map(t=>t.id),itemSize:k,initialWaterfallCount:3,ref:"demo"},{default:o(({index:t})=>[d("div",{class:b(["exp-flatList-item",["color-"+t%10]])},c(i(a)[t].text),3)]),_:1},8,["ids"])]),_:1}),l(u,{title:"\u4E8B\u4EF6\u76D1\u542C\uFF08end-reached/visible-items-change\uFF09"},{default:o(()=>[l(i(n),{class:"exp-flatList-box",ids:i(a).map(t=>t.id),itemSize:50,onEndReached:$,onVisibleItemsChange:B},{default:o(({index:t})=>[d("div",H,c(i(a)[t].text),1)]),_:1},8,["ids"])]),_:1}),l(u,{title:"Slot empty"},{default:o(()=>[l(i(n),{class:"exp-flatList-box",ids:[],itemSize:50},{empty:o(()=>[l(S,{description:"\u6682\u65E0\u5217\u8868"})]),_:1})]),_:1}),l(u,{title:"Method"},{default:o(()=>[l(i(n),{class:"exp-flatList-box",ids:i(x).map(t=>t.id),itemSize:50,ref_key:"methodList",ref:p},{default:o(({index:t})=>[d("div",{class:b(["exp-flatList-item",["color-"+t%10]])},c(i(x)[t].text),3)]),_:1},8,["ids"]),l(f,{label:"scrollToIndex({ index: 49999 })",isLink:"",onClick:s[0]||(s[0]=t=>_(49999))}),l(f,{label:"\u540C\u4E0A\u52A0 viewPosition=0.5",isLink:"",onClick:s[1]||(s[1]=t=>_(49999,.5))}),l(f,{label:"\u540C\u4E0A\u52A0 viewPosition=1",isLink:"",onClick:s[2]||(s[2]=t=>_(49999,1))}),l(f,{label:"scrollTo({ offset: 200 })",isLink:"",onClick:s[3]||(s[3]=t=>y(200))}),l(f,{label:"scrollToEnd(true)",isLink:"",onClick:s[4]||(s[4]=t=>z(!0))})]),_:1})],64)}}});export{J as default};
