import{d as R,l as L,r as b,c as k,a as i,w as l,F as V,f as v,o as C,u as n,a5 as d,k as c,t as r,e as B,n as T,s as m}from"./index-25260ca1.js";const N={class:"exp-flatList-item"},P={class:"exp-flatList-item"},M={class:"exp-flatList-item"},D={class:"exp-flatList-item"},H={class:"exp-flatList-item"},W={key:0,class:"exp-flatList-item-separator"},j={class:"exp-flatList-item"},q={name:"ExpFlatList"},J=R({...q,setup(A){const o=L([]),x=L([]);for(let e=0;e<100;e++)o.push({id:e+1,text:`第 ${e+1} 个列表`});for(let e=0;e<1e5;e++)x.push({id:e+1,text:`第 ${e+1} 个列表`});function $(e){return 50+e%10*2}const y=(e,s)=>{setTimeout(()=>{m({title:"刷新成功",type:"success"}),s()},2e3)},g=b(!0),f=L([]);function h(){for(let e=f.length,s=f.length+10;e<s;e++)f.push({id:e+1,text:`第 ${e+1} 个列表`})}h();const z=e=>{console.log("end-reached",e);const s=100;f.length>=s||setTimeout(()=>{h(),m({title:"加载成功",type:"success"}),f.length>=s&&(g.value=!1)},500)},S=({items:e})=>{console.log("visible-items-change",e),e.forEach(({index:s,visible:a})=>{s===49&&m(`index: ${s}, visable: ${a}`)})},w=e=>{console.log("end-reached",e),m("到底了")},u=b();function _(e,s=0){var a;(a=u.value)==null||a.scrollToIndex({index:e,viewPosition:s})}function E(e){var s;(s=u.value)==null||s.scrollTo({offset:e})}function I(e){var s;(s=u.value)==null||s.scrollToEnd(e)}return(e,s)=>{const a=v("ta-group"),F=v("ta-empty"),p=v("ta-cell");return C(),k(V,null,[i(a,{title:"基础用法"},{default:l(()=>[i(n(d),{class:"exp-flatList-box",ids:o.map(t=>t.id)},{default:l(({index:t})=>[c("div",N,r(o[t].text),1)]),_:1},8,["ids"])]),_:1}),i(a,{title:"水平列表"},{default:l(()=>[i(n(d),{class:"exp-flatList-box",ids:o.map(t=>t.id),itemSize:140,initialHorizontal:""},{default:l(({index:t})=>[c("div",P,r(o[t].text),1)]),_:1},8,["ids"])]),_:1}),i(a,{title:"开启下拉刷新"},{default:l(()=>[i(n(d),{class:"exp-flatList-box",ids:o.map(t=>t.id),itemSize:50,enablePullRefresh:!0,onRefreshing:y},{default:l(({index:t})=>[c("div",M,r(o[t].text),1)]),_:1},8,["ids"])]),_:1}),i(a,{title:"展示底部加载更多提示"},{default:l(()=>[i(n(d),{class:"exp-flatList-box",ids:f.map(t=>t.id),lowerLoading:g.value,onEndReached:z},{default:l(({index:t})=>[c("div",D,r(o[t].text),1)]),_:1},8,["ids","lowerLoading"])]),_:1}),i(a,{title:"分割线（#separator）"},{default:l(()=>[i(n(d),{class:"exp-flatList-box",ids:o.map(t=>t.id)},{default:l(({index:t})=>[c("div",H,r(o[t].text),1)]),separator:l(({index:t})=>[t<o.length-1?(C(),k("div",W)):B("",!0)]),_:1},8,["ids"])]),_:1}),i(a,{title:"瀑布流"},{default:l(()=>[i(n(d),{class:"exp-flatList-box",ids:o.map(t=>t.id),itemSize:$,initialWaterfallCount:3,ref:"demo"},{default:l(({index:t})=>[c("div",{class:T(["exp-flatList-item",["color-"+t%10]])},r(o[t].text),3)]),_:1},8,["ids"])]),_:1}),i(a,{title:"事件监听（end-reached/visible-items-change）"},{default:l(()=>[i(n(d),{class:"exp-flatList-box",ids:o.map(t=>t.id),itemSize:50,onEndReached:w,onVisibleItemsChange:S},{default:l(({index:t})=>[c("div",j,r(o[t].text),1)]),_:1},8,["ids"])]),_:1}),i(a,{title:"Slot empty"},{default:l(()=>[i(n(d),{class:"exp-flatList-box",ids:[],itemSize:50},{empty:l(()=>[i(F,{description:"暂无列表"})]),_:1})]),_:1}),i(a,{title:"Method"},{default:l(()=>[i(n(d),{class:"exp-flatList-box",ids:x.map(t=>t.id),itemSize:50,ref_key:"methodList",ref:u},{default:l(({index:t})=>[c("div",{class:T(["exp-flatList-item",["color-"+t%10]])},r(x[t].text),3)]),_:1},8,["ids"]),i(p,{label:"scrollToIndex({ index: 49999 })",isLink:"",onClick:s[0]||(s[0]=t=>_(49999))}),i(p,{label:"同上加 viewPosition=0.5",isLink:"",onClick:s[1]||(s[1]=t=>_(49999,.5))}),i(p,{label:"同上加 viewPosition=1",isLink:"",onClick:s[2]||(s[2]=t=>_(49999,1))}),i(p,{label:"scrollTo({ offset: 200 })",isLink:"",onClick:s[3]||(s[3]=t=>E(200))}),i(p,{label:"scrollToEnd(true)",isLink:"",onClick:s[4]||(s[4]=t=>I(!0))})]),_:1})],64)}}});export{J as default};
